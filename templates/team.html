{% extends 'base.html' %}
{% block title %}
  {{ team.fullname }}
{% endblock %}
{% block content %}
<div id="mainContainer" class="container mt-4 pt-4">
  <!-- Header -->
  <div class="row">
    <!-- Header Left -->
    <div class="col-5">
      <div class="row text-white">
        <div class="col-4 text-center">
          <img src="{{ url_for('static', filename='logos/'+team.key+'.png') }}" class="img-fluid">
        </div>
        <div class="col-8 align-self-center">
          <div class="row"><small class="text-start">{{ team.location}}</small></div>
          <div class="row"><h2 class="text-start text-uppercase">{{ team.name }}</h2></div>
          {% if preseason %}
          <div class="row"><small class="text-start font-weight-light">{{ team.preseason_wins }}-{{ team.preseason_loses }}</small></div>
          {% else %}
          <div class="row"><small class="text-start font-weight-light">{{ team.wins }}-{{ team.loses }}</small></div>
          {% endif %}
        </div>
      </div>
    </div>
    <!-- Header Right -->
    <div class="col-7 align-self-center">
      <!-- Team Rankings -->
      <div class="row">
        {% set team_stats = team.get_team_stats(preseason=preseason) %}
        <!-- DVOA -->
        <div class="col text-center">
          <button class="btn w-100 bgcolor{{ team_stats.DVOA }} text-dark btn-secondary position-relative" style="pointer-events: none">
            <div class="row mt-3">
              <h1>{{ team_stats.DVOA }}</h1>
            </div>
            <div class="row">
            </div>
            <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">DVOA Rank</span>
          </button>
        </div>
        <!-- OFF Rank -->
        <div class="col text-center">
          <button class="btn w-100 bgcolor{{ team_stats.OFF }} text-dark btn-secondary position-relative" style="pointer-events: none">
            <div class="row mt-3">
              <h1>{{ team_stats.OFF }}</h1>
            </div>
            <div class="row">
            </div>
            <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">OFF Rank</span>
          </button>
        </div>
        <!-- DEF Rank -->
        <div class="col text-center">
          <button class="btn w-100 bgcolor{{ team_stats.DEF }} text-dark btn-secondary position-relative" style="pointer-events: none">
            <div class="row mt-3">
              <h1>{{ team_stats.DEF }}</h1>
            </div>
            <div class="row">
            </div>
            <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">DEF Rank</span>
          </button>
        </div>
        <!-- ST Rank -->
        <div class="col text-center">
          <button class="btn w-100 bgcolor{{ team_stats.ST }} text-dark btn-secondary position-relative" style="pointer-events: none">
            <div class="row mt-3">
              <h1>{{ team_stats.ST }}</h1>
            </div>
            <div class="row">
            </div>
            <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">ST Rank</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Team Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
  <div id="teamNav" class="container-fluid">
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ">
        <li class="nav-item">
          <a class="nav-link" href="">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="" id="statsSelection">Stats</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="" id="scheduleSelection">Schedule</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="" id="rosterSelection">Roster</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="" id="depthChartSelection">Depth Chart</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="" id="injurySelection">Injuries</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
  <!-- Home Page Content -->
  <div id="homePage" class="container text-white">
    <div class="row">
      <!-- LEFT COLUMN -->
      <div class="col-lg-2">
        <!-- REGULAR SEASON SCHEDULE  -->
        <div class="row mt-2">
          <div class="card bg-dark">
          <div class="card-title text-center">Season Schedule</div>
          <div class="card-body">
            <form action="{{ url_for('matchup') }}" method="GET">
              {% set schedule = team.get_games(preseason=false, completed=false, home=true, away=true) %}
              {% for game in schedule|sort(attribute='week') %}
              {% if loop.index == team.bye %}
              <div class="row justify-content-center mt-1">
                <button type="button" class="btn btn-dark text-white p-2 position-relative">
                  <div class="row px-1 mx-1">
                    <span class="text-center"><small>Bye</small></span>
                  </div>
                  <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-light">{{ loop.index }}</span>
                </button>
              </div>
              <div class="row justify-content-center mt-1">
                {% if game.home_team.key == team.key %}
                <button type="submit" class="btn btn-dark text-white p-2 position-relative" name="matchup" value="{{ game.ID }}">
                  <div class="row px-1 mx-1">
                    <span class="text-center"><small>vs. {{ game.away_team.name }}</small></span>
                  </div>
                  <span class="position-absolute top-50 start-0 translate-middle badge rounded-pill text-dark"><img src="{{ url_for('static', filename='logos/'+game.away_team.key+'.png') }}" height="40"></span>
                  {% if game.completed %}
                    {% if game.winner == team.key %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-success">W</span>
                    {% else %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-danger">L</span>
                    {% endif %}
                  {% else %}
                  <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-light">{{game.week}}</span>
                  {% endif %}
                </button>
                {% else %}
                <button type="submit" class="btn btn-dark text-white p-2 position-relative" name="matchup" value="{{ game.ID }}">
                  <div class="row px-1 mx-1">
                    <span class="text-center"><small>@ {{ game.home_team.name }}</small></span>
                  </div>
                  <span class="position-absolute top-50 start-0 translate-middle badge rounded-pill text-dark"><img src="{{ url_for('static', filename='logos/'+game.home_team.key+'.png') }}" height="40"></span>
                  {% if game.completed %}
                    {% if game.winner == team.key %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-success">W</span>
                    {% else %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-danger">L</span>
                    {% endif %}
                  {% else %}
                  <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-light">{{game.week}}</span>
                  {% endif %}
                </button>
                {% endif %}
              </div>
              {% else %}
              <div class="row justify-content-center mt-1">
                {% if game.home_team.key == team.key %}
                <button type="submit" class="btn btn-dark text-white p-2 position-relative" name="matchup" value="{{ game.ID }}">
                  <div class="row px-1 mx-1">
                    <span class="text-center"><small>vs. {{ game.away_team.name }}</small></span>
                  </div>
                  <span class="position-absolute top-50 start-0 translate-middle badge rounded-pill text-dark"><img src="{{ url_for('static', filename='logos/'+game.away_team.key+'.png') }}" height="40"></span>
                  {% if game.completed %}
                    {% if game.winner == team.key %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-success">W</span>
                    {% else %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-danger">L</span>
                    {% endif %}
                  {% else %}
                  <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-light">{{game.week}}</span>
                  {% endif %}
                </button>
                {% else %}
                <button type="submit" class="btn btn-dark text-white p-2 position-relative" name="matchup" value="{{ game.ID }}">
                  <div class="row px-1 mx-1">
                    <span class="text-center"><small>@ {{ game.home_team.name }}</small></span>
                  </div>
                  <span class="position-absolute top-50 start-0 translate-middle badge rounded-pill text-dark"><img src="{{ url_for('static', filename='logos/'+game.home_team.key+'.png') }}" height="40"></span>
                  {% if game.completed %}
                    {% if game.winner == team.key %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-success">W</span>
                    {% else %}
                    <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-danger">L</span>
                    {% endif %}
                  {% else %}
                  <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill text-dark bg-light">{{game.week}}</span>
                  {% endif %}
                </button>
                {% endif %}
              </div>
              {% endif %}
              {% endfor %}
            </form>
          </div>
        </div>
        </div>
      </div>
      <!-- MAIN CONTENT -->
      <div class="col-lg-7">
        <!-- Team Leaders -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Team Leaders</div>
            <div class="card-body">
              <div class="row">
                <!-- Passing Yards Leader -->
                <div class="col">
                  {% set passLeaderID = team.get_team_stats(preseason=preseason).passingLeader_id %}
                  {% if passLeaderID %}
                  {% set passLeader = Player.query.get(passLeaderID) %}
                  <button data-id="{{ passLeader.ID }}" class="border-secondary player-btn btn btn-block btn-dark position-relative">
                    <div class="row mt-2">
                      <img class="img-fluid" src="{{ url_for('static', filename='headshots/' + passLeader.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                    </div>
                    <div class="row mt-1">
                      <small>{{ passLeader.name }} <span class="text-muted">{{ passLeader.position }}</span></small>
                    </div>
                    <div class="row mt-1">
                      {% set passLeaderStats = passLeader.get_season_stats(preseason) %}
                      <h3>{{ passLeaderStats.passYDs }}</h3>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Passing Yards</span>
                  </button>
                  {% else %}
                  <button class=" btn btn-block btn-dark position-relative">
                    <div class="row mt-2">
                      <img class="img-fluid" src="{{ url_for('static', filename='headshots/default.png') }}">
                    </div>
                    <div class="row mt-1">
                      <small>-</small>
                    </div>
                    <div class="row mt-1">
                      <h3>-</h3>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Passing Yards</span>
                  </button>
                  {% endif %}
                </div>
                <!-- Rushing Yards Leader -->
                <div class="col">
                  {% set rushLeaderID = team.get_team_stats(preseason=preseason).rushingLeader_id %}
                  {% if rushLeaderID %}
                  {% set rushLeader = Player.query.get(rushLeaderID) %}
                  <button data-id="{{ rushLeader.ID }}" class="border-secondary player-btn btn btn-block btn-dark position-relative">
                    <div class="row mt-2">
                      <img class="img-fluid" src="{{ url_for('static', filename='headshots/' + rushLeader.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                    </div>
                    <div class="row mt-1">
                      <small>{{ rushLeader.name }} <span class="text-muted">{{ rushLeader.position }}</span></small>
                    </div>
                    <div class="row mt-1">
                      {% set rushLeaderStats = rushLeader.get_season_stats(preseason) %}
                      <h3>{{ rushLeaderStats.rushYDs }}</h3>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Rushing Yards</span>
                  </button>
                  {% else %}
                  <button class="btn btn-block btn-dark position-relative">
                    <div class="row mt-2">
                      <img class="img-fluid" src="{{ url_for('static', filename='headshots/default.png') }}">
                    </div>
                    <div class="row mt-1">
                      <small>-</small>
                    </div>
                    <div class="row mt-1">
                      <h3>-</h3>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Rushing Yards</span>
                  </button>
                  {% endif %}
                </div>
                <!-- Receiving Yards Leader -->
                <div class="col">
                  {% set recLeaderID = team.get_team_stats(preseason=preseason).receivingLeader_id %}
                  {% if recLeaderID %}
                  {% set recLeader = Player.query.get(recLeaderID) %}
                  <button data-id="{{ recLeader.ID }}" class="border-secondary player-btn btn btn-block btn-dark position-relative">
                    <div class="row mt-2">
                      <img class="img-fluid" src="{{ url_for('static', filename='headshots/' + recLeader.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                    </div>
                    <div class="row mt-1">
                      <small>{{ recLeader.name }} <span class="text-muted">{{ recLeader.position }}</span></small>
                    </div>
                    <div class="row mt-1">
                      {% set recLeaderStats = recLeader.get_season_stats(preseason) %}
                      <h3>{{ recLeaderStats.recYDs }}</h3>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Receiving Yards</span>
                  </button>
                  {% else %}
                  <button class="btn btn-block btn-dark position-relative">
                    <div class="row mt-2">
                      <img class="img-fluid" src="{{ url_for('static', filename='headshots/default.png') }}">
                    </div>
                    <div class="row mt-1">
                      <small>-</small>
                    </div>
                    <div class="row mt-1">
                      <h3>-</h3>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Receiving Yards</span>
                  </button>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Team Stat Per Game -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Team Stats Per Game</div>
            <div class="card-body">
              {% set team_stats = team.get_team_stats(preseason=preseason) %}
              <div class="row">
                <div class="col text-center">
                  <button class="btn text-dark bgcolor{{ team_stats.passYDsPerGameRank }} w-100 position-relative" style="pointer-events: none">
                    <div class="row mt-3">
                      <h1>{{ '%0.1f' |format(team_stats.passYDsPerGame) }}</h1>
                    </div>
                    <div class="row">
                      <small>#{{ team_stats.passYDsPerGameRank }}</small>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Passing Yards</span>
                  </button>
                </div>
                <div class="col text-center">
                  <button class="btn text-dark bgcolor{{ team_stats.rushYDsPerGameRank }} w-100 position-relative" style="pointer-events: none">
                    <div class="row mt-3">
                      <h1>{{ '%0.1f' |format(team_stats.rushYDsPerGame) }}</h1>
                    </div>
                    <div class="row">
                      <small>#{{ team_stats.rushYDsPerGameRank }}</small>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Rushing Yards</span>
                  </button>
                </div>
                <div class="col text-center">
                  <button class="btn text-dark bgcolor{{ team_stats.PPGRank }} w-100 position-relative" style="pointer-events: none">
                    <div class="row mt-3">
                      <h1>{{ '%0.1f'| format(team_stats.PPG|float) }}</h1>
                    </div>
                    <div class="row">
                      <small>#{{ team_stats.PPGRank }}</small>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Points For</span>
                  </button>
                </div>
                <div class="col text-center">
                  <button class="btn text-dark bgcolor{{ 33 - team_stats.PAPGRank }} w-100 position-relative" style="pointer-events: none">
                    <div class="row mt-3">
                      <h1>{{ '%0.1f'| format(team_stats.PAPG|float) }}</h1>
                    </div>
                    <div class="row">
                      <small>#{{ team_stats.PAPGRank }}</small>
                    </div>
                    <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Points Against</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- RIGHT COLUMN -->
      <div class="col-lg-3">
        <!-- Injury Report -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Injury Report</div>
            <div class="card-body">
              <table class="player-table table table-sm table-dark table-hover">
                <thead>
                  <tr>
                    <th>Pos</th>
                    <th>Name</th>
                  </tr>
                </thead>
                <tbody>
                  {% for player in players %}
                    {% if not player.practice_squad %}
                    <tr data-id="{{ player.ID }}">
                        {% if player.designation == 'Questionable' or player.designation == 'Doubtful' %}
                        <td>{{ player.position }}</td>
                        <td>{{ player.name  }} <div class="badge rounded-pill p-1 bg-warning"><span class="visually-hidden">N</span></div></td>
                        {% elif player.designation == 'Out' %}
                        <td>{{ player.position }}</td>
                        <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                        {% endif %}
                    </tr>
                    {% endif %}
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Injured Reserve -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Injured Reserve</div>
            <div class="card-body">
              <table class="player-table table table-sm table-dark table-hover">
                <thead>
                  <tr>
                    <th>Pos</th>
                    <th>Name</th>
                  </tr>
                </thead>
                <tbody>
                  {% for player in players %}
                    <tr data-id="{{ player.ID }}">
                        {% if player.designation == 'Injured Reserve' %}
                        <td>{{ player.position }}</td>
                        <td>{{ player.name  }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                        {% endif %}
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Division Standings -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">2021 {{team.conference}} {{team.division}} Standings</div>
            <div class="card-body">
              <div class="row">
                <table class="table table-sm table-dark table-hover">
                  <thead>
                    <tr>
                      <td>TEAM</td>
                      <td>W</td>
                      <td>L</td>
                      <td>T</td>
                      <td>PCT</td>
                      <td>PF</td>
                      <td>PA</td>
                    </tr>
                  </thead>
                  <tbody>
                    {% for t in division %}
                    {% if t.key == team.key %}
                    <tr>
                      <td><strong>{{ t.name }}</strong></td>
                      <td><strong>{{ t.wins }}</strong></td>
                      <td><strong>{{ t.loses }}</strong></td>
                      <td><strong>{{ t.ties }}</strong></td>
                      <td><strong></strong></td>
                      <td><strong>{{ t.get_team_stats(preseason=false).pointsFor }}</strong></td>
                      <td><strong>{{ t.get_team_stats(preseason=false).pointsAgainst }}</strong></td>
                    </tr>
                    {% else %}
                    <tr>
                      <td>{{ t.name }}</td>
                      <td>{{ t.wins }}</td>
                      <td>{{ t.loses }}</td>
                      <td>{{ t.ties }}</td>
                      <td></td>
                      <td>{{ t.get_team_stats(preseason=false).pointsFor }}</td>
                      <td>{{ t.get_team_stats(preseason=false).pointsAgainst }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Stats Page Content -->
  <div id="statsPage" class="container text-white visually-hidden">
    <div class="row justify-content-center">
      <!-- MAIN CONTENT -->
      <div class="col-12">
        {% if passLeader and rushLeader and recLeader %}
        <!-- Team Leaders -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Team Leaders</div>
            <div class="card-body">
              <div class="row justify-content-center">
                <div class="col-7">
                  <div class="row">
                    <!-- Passing Yards Leader -->
                    <div class="col">
                      {% set passLeaderID = team.get_team_stats(preseason=preseason).passingLeader_id %}
                      {% if passLeaderID %}
                      {% set passLeader = Player.query.get(passLeaderID) %}
                      <button data-id="{{ passLeader.ID }}" class="border-secondary player-btn btn btn-block btn-dark position-relative">
                        <div class="row mt-2">
                          <img class="img-fluid" src="{{ url_for('static', filename='headshots/' + passLeader.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                        </div>
                        <div class="row mt-1">
                          <small>{{ passLeader.name }} <span class="text-muted">{{ passLeader.position }}</span></small>
                        </div>
                        <div class="row mt-1">
                          {% set passLeaderStats = passLeader.get_season_stats(preseason) %}
                          <h3>{{ passLeaderStats.passYDs }}</h3>
                        </div>
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Passing Yards</span>
                      </button>
                      {% else %}
                      <button class=" btn btn-block btn-dark position-relative">
                        <div class="row mt-2">
                          <img class="img-fluid" src="{{ url_for('static', filename='headshots/default.png') }}">
                        </div>
                        <div class="row mt-1">
                          <small>-</small>
                        </div>
                        <div class="row mt-1">
                          <h3>-</h3>
                        </div>
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Passing Yards</span>
                      </button>
                      {% endif %}
                    </div>
                    <!-- Rushing Yards Leader -->
                    <div class="col">
                      {% set rushLeaderID = team.get_team_stats(preseason=preseason).rushingLeader_id %}
                      {% if rushLeaderID %}
                      {% set rushLeader = Player.query.get(rushLeaderID) %}
                      <button data-id="{{ rushLeader.ID }}" class="border-secondary player-btn btn btn-block btn-dark position-relative">
                        <div class="row mt-2">
                          <img class="img-fluid" src="{{ url_for('static', filename='headshots/' + rushLeader.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                        </div>
                        <div class="row mt-1">
                          <small>{{ rushLeader.name }} <span class="text-muted">{{ rushLeader.position }}</span></small>
                        </div>
                        <div class="row mt-1">
                          {% set rushLeaderStats = rushLeader.get_season_stats(preseason) %}
                          <h3>{{ rushLeaderStats.rushYDs }}</h3>
                        </div>
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Rushing Yards</span>
                      </button>
                      {% else %}
                      <button class="btn btn-block btn-dark position-relative">
                        <div class="row mt-2">
                          <img class="img-fluid" src="{{ url_for('static', filename='headshots/default.png') }}">
                        </div>
                        <div class="row mt-1">
                          <small>-</small>
                        </div>
                        <div class="row mt-1">
                          <h3>-</h3>
                        </div>
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Rushing Yards</span>
                      </button>
                      {% endif %}
                    </div>
                    <!-- Receiving Yards Leader -->
                    <div class="col">
                      {% set recLeaderID = team.get_team_stats(preseason=preseason).receivingLeader_id %}
                      {% if recLeaderID %}
                      {% set recLeader = Player.query.get(recLeaderID) %}
                      <button data-id="{{ recLeader.ID }}" class="border-secondary player-btn btn btn-block btn-dark position-relative">
                        <div class="row mt-2">
                          <img class="img-fluid" src="{{ url_for('static', filename='headshots/' + recLeader.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                        </div>
                        <div class="row mt-1">
                          <small>{{ recLeader.name }} <span class="text-muted">{{ recLeader.position }}</span></small>
                        </div>
                        <div class="row mt-1">
                          {% set recLeaderStats = recLeader.get_season_stats(preseason) %}
                          <h3>{{ recLeaderStats.recYDs }}</h3>
                        </div>
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Receiving Yards</span>
                      </button>
                      {% else %}
                      <button class="btn btn-block btn-dark position-relative">
                        <div class="row mt-2">
                          <img class="img-fluid" src="{{ url_for('static', filename='headshots/default.png') }}">
                        </div>
                        <div class="row mt-1">
                          <small>-</small>
                        </div>
                        <div class="row mt-1">
                          <h3>-</h3>
                        </div>
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Receiving Yards</span>
                      </button>
                      {% endif %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        <!-- Player Season Stats -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Regular Season Stats</div>
            <div class="card-body">
              <!-- Passing -->
              <div class="row text-white">
                <div class="row">
                  <h5>Passing</h5>
                </div>
                <table class="sortable player-table table table-sm table-dark table-hover">
                  <thead>
                    <tr>
                      <td>Name</td>
                      <td class="text-end">GP</td>
                      <td class="text-end">CMP</td>
                      <td class="text-end">ATT</td>
                      <td class="text-end">CMP%</td>
                      <td class="text-end">YDS</td>
                      <td class="text-end">AVG</td>
                      <td class="text-end">YDS/G</td>
                      <td class="text-end">TD</td>
                      <td class="text-end">INT</td>
                      <td class="text-end">SACK</td>
                      <td class="text-end">SYL</td>
                      <td class="text-end">RTG</td>
                    </tr>
                  </thead>
                  {% for season_stats in player_stats|sort(attribute='passYDs', reverse=True) %}
                  {% if season_stats.passAtts > 0 %}
                  <tr data-id="{{ season_stats.player.ID }}">
                    <td>{{ season_stats.player.name }} <small class="text-muted">{{ season_stats.player.position }}</small></td>
                    <td class="text-end">{{ season_stats.gamesPlayed }}</td>
                    <td class="text-end">{{ season_stats.passComps }}</td>
                    <td class="text-end">{{ season_stats.passAtts }}</td>
                    <td class="text-end">{{  '%0.1f' | format((season_stats.passComps/season_stats.passAtts)*100) }}</td>
                    <td class="text-end">{{ season_stats.passYDs }}</td>
                    {% if season_stats.passComps > 0 %}
                    <td class="text-end">{{  '%0.1f' | format(season_stats.passYDs/season_stats.passComps) }}</td>
                    {% else %}
                    <td class="text-end">0.0</td>
                    {% endif %}
                    <td class="text-end">{{ '%0.1f' | format(season_stats.passYDsPerGame) }}</td>
                    <td class="text-end">{{ season_stats.passTDs }}</td>
                    <td class="text-end">{{ season_stats.passINTs }}</td>
                    <td class="text-end">{{ season_stats.passSacks }}</td>
                    <td class="text-end">{{ season_stats.passSackYDs }}</td>
                    <td class="text-end">{{ '%0.1f' | format(season_stats.passRTG) }}</td>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
              </div>
              <!-- Rushing -->
              <div class="row text-white">
                <div class="row">
                  <h5>Rushing</h5>
                </div>
                <table class="sortable player-table table table-sm table-dark table-hover">
                  <thead>
                    <tr>
                      <td>Name</td>
                      <td class="text-end">GP</td>
                      <td class="text-end">ATT</td>
                      <td class="text-end">YDS</td>
                      <td class="text-end">AVG</td>
                      <td class="text-end">LNG</td>
                      <td class="text-end">TD</td>
                      <td class="text-end">YDS/G</td>
                      <td class="text-end">FUM</td>
                      <td class="text-end">LST</td>
                    </tr>
                  </thead>
                  {% for season_stats in player_stats|sort(attribute='rushYDs', reverse=True) %}
                  {% if season_stats.rushAtts > 0 %}
                  <tr data-id="{{ season_stats.player.ID }}">
                    <td>{{ season_stats.player.name }} <small class="text-muted">{{ season_stats.player.position }}</small></td>
                    <td class="text-end">{{ season_stats.gamesPlayed }}</td>
                    <td class="text-end">{{ season_stats.rushAtts }}</td>
                    <td class="text-end">{{ season_stats.rushYDs }}</td>
                    <td class="text-end">{{ '%0.1f' | format(season_stats.rushYDs/season_stats.rushAtts) }}</td>
                    <td class="text-end">{{ season_stats.rushLng }}</td>
                    <td class="text-end">{{ season_stats.rushTDs }}</td>
                    <td class="text-end">{{ '%0.1f' | format(season_stats.rushYDs/season_stats.gamesPlayed) }}</td>
                    <td class="text-end">{{ season_stats.fum }}</td>
                    <td class="text-end">{{ season_stats.fumLost }}</td>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
              </div>
              <!-- Receiving -->
              <div class="row text-white">
                <div class="row">
                  <h5>Receiving</h5>
                </div>
                <table class="sortable player-table table table-sm table-dark table-hover">
                  <thead>
                    <tr>
                      <td>Name</td>
                      <td class="text-end">GP</td>
                      <td class="text-end">REC</td>
                      <td class="text-end">TGTS</td>
                      <td class="text-end">YDS</td>
                      <td class="text-end">AVG</td>
                      <td class="text-end">TD</td>
                      <td class="text-end">LNG</td>
                      <td class="text-end">YDS/G</td>
                      <td class="text-end">FUM</td>
                      <td class="text-end">LST</td>
                    </tr>
                  </thead>
                  {% for season_stats in player_stats|sort(attribute='recYDs', reverse=True) %}
                  {% if season_stats.recTGTS > 0 %}
                  <tr data-id="{{ season_stats.player.ID }}">
                    <td>{{ season_stats.player.name }} <small class="text-muted">{{ season_stats.player.position }}</small></td>
                    <td class="text-end">{{ season_stats.gamesPlayed }}</td>
                    <td class="text-end">{{ season_stats.recs }}</td>
                    <td class="text-end">{{ season_stats.recTGTS }}</td>
                    <td class="text-end">{{ season_stats.recYDs }}</td>
                    {% if season_stats.recs > 0 %}
                    <td class="text-end">{{ '%0.1f' | format(season_stats.recYDs/season_stats.recs) }}</td>
                    {% else %}
                    <td class="text-end">0.0</td>
                    {% endif %}
                    <td class="text-end">{{ season_stats.recTDs }}</td>
                    <td class="text-end">{{ season_stats.recLng }}</td>
                    <td class="text-end">{{ '%0.1f' | format(season_stats.recYDs/season_stats.gamesPlayed) }}</td>
                    <td class="text-end">{{ season_stats.fum }}</td>
                    <td class="text-end">{{ season_stats.fumLost }}</td>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Schedule Page Content -->
  <div id="schedulePage" class="container text-white visually-hidden">
    <div class="row justify-content-center">
      <!-- MAIN CONTENT -->
      <div class="col-12">
        <!-- Preseason Schedule -->
        <div class="row mt-2">
            <div class="card bg-dark">
                <div class="card-title text-center">Preseason Schedule</div>
                <div class="card-body">
                    <div class="row mt-2">
                      <table class="table table-dark table-sm table-hover">
                        <thead>
                        <tr>
                          <th>WK</th>
                          <th>DATE</th>
                          <th>TIME</th>
                          <th>OPPONENT</th>
                          <th>RESULT</th>
                          <th>W-L</th>
                          <th>HI PASS</th>
                          <th>HI RUSH</th>
                          <th>HI REC</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% set preschedule = team.get_games(preseason=true, completed=false, home=true, away=true) %}
                        {% set record = namespace(wins=0, losses=0, ties=0) %}
                        {% for game in preschedule|sort(attribute='week') %}
                        {% if not game.completed %}
                        <tr>
                          <td>{{ game.week }}</td>
                          <td>{{ game.get_time().strftime('%a, %b %-d') }}</td>
                          <td>{{ game.get_time().strftime('%-I:%M %p') }}</td>
                          {% if game.home_team.key == team.key %}
                            <td> vs. {{ game.away_team.name }}</td>
                          {% else %}
                            <td> @ {{ game.home_team.name }}</td>
                          {% endif %}
                          <td>-</td>
                          <td>-</td>
                          <td>-</td>
                          <td>-</td>
                          <td>-</td>
                        </tr>
                        {% else %}
                        <tr>
                          <td>{{ game.week }}</td>
                          <td>{{ game.get_time().strftime('%a, %b %-d') }}</td>
                          <td>{{ game.get_time().strftime('%-I:%M %p') }}</td>
                          {% if game.home_team.key == team.key %}
                          <td class="align-self-center">vs. {{ game.away_team.name }}</td>
                            {% if game.home_team_score > game.away_team_score %}
                            {% set record.wins = record.wins + 1 %}
                            <td><span class="fw-bold text-success">W </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                            {% elif game.home_team_score < game.away_team_score %}
                            {% set record.losses = record.losses + 1 %}
                            <td><span class="fw-bold text-danger">L </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                            {% else %}
                            {% set record.ties = record.ties + 1 %}
                            <td><span class="fw-bold">T </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                            {% endif %}
                          {% else %}
                          <td class="align-self-center">@ {{ game.home_team.name }}</td>
                          {% if game.away_team_score > game.home_team_score %}
                            {% set record.wins = record.wins + 1 %}
                          <td><span class="fw-bold text-success">W </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                            {% elif game.away_team_score < game.home_team_score %}
                            {% set record.losses = record.losses + 1 %}
                            <td><span class="fw-bold text-danger">L </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                            {% else %}
                            {% set record.ties = record.ties + 1 %}
                            <td><span class="fw-bold">T </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                            {% endif %}
                          {% endif %}
                          {% if record.ties > 0 %}
                          <td>{{ record.wins }}-{{ record.losses }}-{{ record.ties }}</td>
                          {% else %}
                          <td>{{ record.wins }}-{{ record.losses }}</td>
                          {% endif %}
                          {% if team.key == game.home_team.key %}
                          {% set player = Player.query.get(game.homePassingLeader_id) %}
                          <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).passYDs }}</span></td>
                          {% set player = Player.query.get(game.homeRushingLeader_id) %}
                          <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).rushYDs }}</span></td>
                          {% set player = Player.query.get(game.homeReceivingLeader_id) %}
                          <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).recYDs }}</span></td>
                          {% else %}
                          {% set player = Player.query.get(game.awayPassingLeader_id) %}
                          <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).passYDs }}</span></td>
                          {% set player = Player.query.get(game.awayRushingLeader_id) %}
                          <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).rushYDs }}</span></td>
                          {% set player = Player.query.get(game.awayReceivingLeader_id) %}
                          <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).recYDs }}</span></td>
                          {% endif %}
                        </tr>
                        {% endif %}
                        {% endfor %}
                        </tbody>
                      </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Regular Season Schedule -->
        <div class="row mt-2">
            <div class="card bg-dark">
                <div class="card-title text-center">Regular Season Schedule</div>
                <div class="card-body">
                    <div class="row mt-2">
                      <table class="table table-dark table-sm table-hover">
                        <thead>
                        <tr>
                          <th>WK</th>
                          <th>DATE</th>
                          <th>TIME</th>
                          <th>OPPONENT</th>
                          <th>RESULT</th>
                          <th>W-L</th>
                          <th>HI PASS</th>
                          <th>HI RUSH</th>
                          <th>HI REC</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% set schedule = team.get_games(preseason=false, completed=false, home=true, away=true) %}
                        {% set record = namespace(wins=0, losses=0, ties=0) %}
                        {% for game in schedule|sort(attribute='week') %}
                        {% if loop.index == team.bye %}
                          <tr>
                            <td>{{ loop.index }}</td>
                            <td colspan="7" class="text-center">Bye Week</td>
                          </tr>
                          {% if not game.completed %}
                          <tr>
                            <td>{{ game.week }}</td>
                            <td>{{ game.get_time().strftime('%a, %b %-d') }}</td>
                            <td>{{ game.get_time().strftime('%-I:%M %p') }}</td>
                            {% if game.home_team.key == team.key %}
                              <td> vs. {{ game.away_team.name }}</td>
                            {% else %}
                              <td> @ {{ game.home_team.name }}</td>
                            {% endif %}
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                          </tr>
                          {% else %}
                          <tr>
                            <td>{{ game.week }}</td>
                            <td>{{ game.get_time().strftime('%a, %b %-d') }}</td>
                            <td>{{ game.get_time().strftime('%-I:%M %p') }}</td>
                            {% if game.home_team.key == team.key %}
                            <td class="align-self-center">vs. {{ game.away_team.name }}</td>
                              {% if game.home_team_score > game.away_team_score %}
                              {% set record.wins = record.wins + 1 %}
                              <td><span class="fw-bold text-success">W </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                              {% elif game.home_team_score < game.away_team_score %}
                              {% set record.losses = record.losses + 1 %}
                              <td><span class="fw-bold text-danger">L </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                              {% else %}
                              {% set record.ties = record.ties + 1 %}
                              <td><span class="fw-bold">T </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                              {% endif %}
                            {% else %}
                            <td class="align-self-center">@ {{ game.home_team.name }}</td>
                            {% if game.away_team_score > game.home_team_score %}
                              {% set record.wins = record.wins + 1 %}
                            <td><span class="fw-bold text-success">W </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                              {% elif game.away_team_score < game.home_team_score %}
                              {% set record.losses = record.losses + 1 %}
                              <td><span class="fw-bold text-danger">L </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                              {% else %}
                              {% set record.ties = record.ties + 1 %}
                              <td><span class="fw-bold">T </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                              {% endif %}
                            {% endif %}
                            {% if record.ties > 0 %}
                            <td>{{ record.wins }}-{{ record.losses }}-{{ record.ties }}</td>
                            {% else %}
                            <td>{{ record.wins }}-{{ record.losses }}</td>
                            {% endif %}
                            {% if team.key == game.home_team.key %}
                            {% set player = Player.query.get(game.homePassingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).passYDs }}</span></td>
                            {% set player = Player.query.get(game.homeRushingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).rushYDs }}</span></td>
                            {% set player = Player.query.get(game.homeReceivingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).recYDs }}</span></td>
                            {% else %}
                            {% set player = Player.query.get(game.awayPassingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).passYDs }}</span></td>
                            {% set player = Player.query.get(game.awayRushingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).rushYDs }}</span></td>
                            {% set player = Player.query.get(game.awayReceivingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).recYDs }}</span></td>
                            {% endif %}
                          </tr>
                          {% endif %}
                        {% else %}
                          {% if not game.completed %}
                          <tr>
                            <td>{{ game.week }}</td>
                            <td>{{ game.get_time().strftime('%a, %b %-d') }}</td>
                            <td>{{ game.get_time().strftime('%-I:%M %p') }}</td>
                            {% if game.home_team.key == team.key %}
                              <td> vs. {{ game.away_team.name }}</td>
                            {% else %}
                              <td> @ {{ game.home_team.name }}</td>
                            {% endif %}
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                          </tr>
                          {% else %}
                          <tr>
                            <td>{{ game.week }}</td>
                            <td>{{ game.get_time().strftime('%a, %b %-d') }}</td>
                            <td>{{ game.get_time().strftime('%-I:%M %p') }}</td>
                            {% if game.home_team.key == team.key %}
                            <td class="align-self-center">vs. {{ game.away_team.name }}</td>
                              {% if game.home_team_score > game.away_team_score %}
                              {% set record.wins = record.wins + 1 %}
                              <td><span class="fw-bold text-success">W </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                              {% elif game.home_team_score < game.away_team_score %}
                              {% set record.losses = record.losses + 1 %}
                              <td><span class="fw-bold text-danger">L </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                              {% else %}
                              {% set record.ties = record.ties + 1 %}
                              <td><span class="fw-bold">T </span> {{ game.home_team_score }}-{{ game.away_team_score }}</td>
                              {% endif %}
                            {% else %}
                            <td class="align-self-center">@ {{ game.home_team.name }}</td>
                            {% if game.away_team_score > game.home_team_score %}
                              {% set record.wins = record.wins + 1 %}
                            <td><span class="fw-bold text-success">W </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                              {% elif game.away_team_score < game.home_team_score %}
                              {% set record.losses = record.losses + 1 %}
                              <td><span class="fw-bold text-danger">L </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                              {% else %}
                              {% set record.ties = record.ties + 1 %}
                              <td><span class="fw-bold">T </span> {{ game.away_team_score }}-{{ game.home_team_score }}</td>
                              {% endif %}
                            {% endif %}
                            {% if record.ties > 0 %}
                            <td>{{ record.wins }}-{{ record.losses }}-{{ record.ties }}</td>
                            {% else %}
                            <td>{{ record.wins }}-{{ record.losses }}</td>
                            {% endif %}
                            {% if team.key == game.home_team.key %}
                            {% set player = Player.query.get(game.homePassingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).passYDs }}</span></td>
                            {% set player = Player.query.get(game.homeRushingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).rushYDs }}</span></td>
                            {% set player = Player.query.get(game.homeReceivingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).recYDs }}</span></td>
                            {% else %}
                            {% set player = Player.query.get(game.awayPassingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).passYDs }}</span></td>
                            {% set player = Player.query.get(game.awayRushingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).rushYDs }}</span></td>
                            {% set player = Player.query.get(game.awayReceivingLeader_id) %}
                            <td data-id='{{ player.ID }}' class="player-btn">{{ player.fname[0] }}. {{ player.lname }} <span class="text-muted">{{ player.get_weekly_stats_by_week(game.preseason, game.week).recYDs }}</span></td>
                            {% endif %}
                          </tr>
                          {% endif %}
                        {% endif %}
                        {% endfor %}
                        </tbody>
                      </table>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Roster Page Content -->
  <div id="rosterPage" class="container text-white visually-hidden">
    <div class="row">
      <!-- MAIN CONTENT -->
      <div class="col-8">
        <!-- Active Roster -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Active Roster</div>
            <div class="card-body">
              <div class="row text-white">
                <table class="sortable player-table table table-dark table-hover">
                  <thead>
                    <tr>
                      <td>#</td>
                      <td>Name</td>
                      <td>Pos</td>
                      <td>Age</td>
                      <td>Ht</td>
                      <td>Wt</td>
                      <td>Exp</td>
                      <td>College</td>
                    </tr>
                  </thead>
                  {% for player in players | sort(attribute='experience', reverse=True) %}
                  {% if not player.practice_squad and player.designation != "Injured Reserve" %}
                  <tr data-id="{{ player.ID }}">
                    {% if player.number %}
                    <td>{{ player.number }}</td>
                    {% else %}
                    <td>-</td>
                    {% endif %}
                    {% if player.designation == "Questionable" or player.designation == "Doubtful" %}
                    <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-warning"><span class="visually-hidden">N</span></div></td>
                    {% elif player.designation == "Out" or player.designation == "Injured Reserve" %}
                    <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                    {% else %}
                    <td>{{ player.name }}</td>
                    {% endif %}
                    <td>{{ player.position }}</td>
                    <td>{{ player.age }}</td>
                    <td>{{ player.height }}</td>
                    <td>{{ player.weight }}</td>
                    {% if player.experience == 0 %}
                    <td>R</td>
                    {% else %}
                    <td>{{ player.experience }}</td>
                    {% endif %}
                    <td>{{ player.college }}</td>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- Injured Reserve -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Injured Reserve</div>
            <div class="card-body">
              <div class="row text-white">
                <table class="sortable player-table table table-dark table-hover">
                  <thead>
                    <tr>
                      <td>#</td>
                      <td>Name</td>
                      <td>Pos</td>
                      <td>Age</td>
                      <td>Ht</td>
                      <td>Wt</td>
                      <td>Exp</td>
                      <td>College</td>
                    </tr>
                  </thead>
                  {% for player in players | sort(attribute='experience', reverse=True) %}
                  {% if not player.practice_squad and player.designation == "Injured Reserve" %}
                  <tr data-id="{{ player.ID }}">
                    {% if player.number %}
                    <td>{{ player.number }}</td>
                    {% else %}
                    <td>-</td>
                    {% endif %}
                    {% if player.designation == "Questionable" or player.designation == "Doubtful" %}
                    <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-warning"><span class="visually-hidden">N</span></div></td>
                    {% elif player.designation == "Out" or player.designation == "Injured Reserve" %}
                    <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                    {% else %}
                    <td>{{ player.name }}</td>
                    {% endif %}
                    <td>{{ player.position }}</td>
                    <td>{{ player.age }}</td>
                    <td>{{ player.height }}</td>
                    <td>{{ player.weight }}</td>
                    {% if player.experience == 0 %}
                    <td>R</td>
                    {% else %}
                    <td>{{ player.experience }}</td>
                    {% endif %}
                    <td>{{ player.college }}</td>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- Practice Squad -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Practice Squad</div>
            <div class="card-body">
              <div class="row text-white">
                <table class="sortable player-table table table-dark table-hover">
                  <thead>
                    <tr>
                      <td>#</td>
                      <td>Name</td>
                      <td>Pos</td>
                      <td>Age</td>
                      <td>Ht</td>
                      <td>Wt</td>
                      <td>Exp</td>
                      <td>College</td>
                    </tr>
                  </thead>
                  {% for player in players | sort(attribute='experience', reverse=True) %}
                  {% if player.practice_squad %}
                  <tr data-id="{{ player.ID }}">
                    {% if player.number %}
                    <td>{{ player.number }}</td>
                    {% else %}
                    <td>-</td>
                    {% endif %}
                    {% if player.designation == "Questionable" or player.designation == "Doubtful" %}
                    <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-warning"><span class="visually-hidden">N</span></div></td>
                    {% elif player.designation == "Out" or player.designation == "Injured Reserve" %}
                    <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                    {% else %}
                    <td>{{ player.name }}</td>
                    {% endif %}
                    <td>{{ player.position }}</td>
                    <td>{{ player.age }}</td>
                    <td>{{ player.height }}</td>
                    <td>{{ player.weight }}</td>
                    {% if player.experience == 0 %}
                    <td>R</td>
                    {% else %}
                    <td>{{ player.experience }}</td>
                    {% endif %}
                    <td>{{ player.college }}</td>
                  </tr>
                  {% endif %}
                  {% endfor %}
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- RIGHT COLUMN -->
      <div class="col-4">
        <!-- Rookie Class -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">2021 Draft Class</div>
            <div class="card-body">
              <table class="player-table table table-sm table-dark table-hover">
                <thead>
                  <tr>
                    <th>RD</th>
                    <th>PCK</th>
                    <th>Name</th>
                    <th>Pos</th>
                    <th>College</th>
                  </tr>
                </thead>
                <tbody>
                  {% for player in draft_picks | sort(attribute="draft_round") | sort(attribute="draft_pick") %}
                    <tr data-id="{{ player.ID }}">
                        {% if player.experience == 0 and not player.undrafted %}
                        <td>{{ player.draft_round }}</td>
                        <td>{{ player.draft_pick }}</td>
                        <td>{{ player.shortname  }}</td>
                        <td>{{ player.position }} </td>
                        <td>{{ player.college }}</td>
                        {% endif %}
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Depth Chart Page Content-->
  <div id="depthChartPage" class="container text-white visually-hidden">
    <!-- Defense -->
    <div class="row mt-4">
      <div class="card bg-dark">
        <div class="card-title text-center">Defense</div>
        <div class="card-body">
          <div class="row justify-content-center">
            <!-- Strong Safety -->
            <div class="col-2">
      <div class="btn-group-vertical position-relative">
      {% for player in team.depth_chart.SSs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Strong Safety</span>
      </div>
    </div>
            <!-- Strongside Linebacker -->
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.SLBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Strongside Linebacker</span>
      </div>
    </div>
            <!-- Middle Linebacker -->
            {% if team.depth_chart.MLBs %}
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.MLBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Middle Linebacker</span>
      </div>
    </div>
            {% endif %}
            <!-- Left Inside Linebacker -->
            {% if team.depth_chart.LILBs %}
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.LILBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Left Inside Linebacker</span>
      </div>
    </div>
            {% endif %}
            <!-- Right Inside Linebacker -->
            {% if team.depth_chart.RILBs %}
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.RILBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Right Inside Linebacker</span>
      </div>
    </div>
            {% endif %}
            <!-- Weakside Linebacker -->
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.WLBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Weakside Linebacker</span>
      </div>
    </div>
            <!-- Free Safety -->
            <div class="col-2">
      <div class="btn-group-vertical position-relative">
      {% for player in team.depth_chart.FSs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Free Safety</span>
      </div>
    </div>
          </div>
          <div class="row mt-4 justify-content-center">
            <!-- Left Cornerback -->
            <div class="col-2">
      <div class="btn-group-vertical position-relative">
      {% for player in team.depth_chart.LCBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Left Cornerback</span>
      </div>
    </div>
            <!-- Left Defensive End -->
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.LDEs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Left Defensive End</span>
      </div>
    </div>
            <!-- Nose Tackle -->
            {% if team.depth_chart.NTs %}
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.NTs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Nose Tackle</span>
      </div>
    </div>
            {% endif %}
            <!-- Left Defensive Tackle -->
            {% if team.depth_chart.LDTs %}
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.LDTs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Left Defensive Tackle</span>
      </div>
    </div>
            {% endif %}
            <!-- Right Defensive Tackle -->
            {% if team.depth_chart.RDTs %}
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.RDTs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Right Defensive Tackle</span>
      </div>
    </div>
            {% endif %}
            <!-- Right Defensive End -->
            <div class="col-2">
      <div class="btn-group-vertical mt-4 position-relative">
      {% for player in team.depth_chart.RDEs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Right Defensive End</span>
      </div>
    </div>
            <!-- Right Cornerback -->
            <div class="col-2">
      <div class="btn-group-vertical position-relative">
      {% for player in team.depth_chart.RCBs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Right Cornerback</span>
      </div>
    </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Offense -->
    <div class="row mt-4">
      <div class="card bg-dark">
        <div class="card-title text-center">Offense</div>
        <div class="card-body">
          <div class="row justify-content-center">
            <!-- Left Tackle -->
            <div class="col-2">
      <div class="btn-group-vertical mt-2 position-relative">
      {% for player in team.depth_chart.LTs.split(" ") %}
      {% set p = Player.query.get(player|int) %}
      {% if loop.index == 1 %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
          <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
          {% if p.status != 'Active' %}
            {% if p.status == 'D' or p.status == 'Q' %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
            {% else %}
            <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
            {% endif %}
          {% else %}
          <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
          {% endif %}
        </button>
      {% else %}
        {% if p.status != 'Active' %}
          {% if p.status == 'D' or p.status == 'Q' %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
          {% else %}
          <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
          {% endif %}
        {% else %}
        <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
        {% endif %}
      {% endif %}
      {% endfor %}
      <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Left Tackle</span>
      </div>
    </div>
            <!-- Left Guard -->
            <div class="col-2">
              <div class="btn-group-vertical mt-1 position-relative">
              {% for player in team.depth_chart.LGs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Left Guard</span>
              </div>
            </div>
            <!-- Center -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.Cs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Center</span>
              </div>
            </div>
            <!-- Right Guard -->
            <div class="col-2">
              <div class="btn-group-vertical mt-1 position-relative">
              {% for player in team.depth_chart.RGs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Right Guard</span>
              </div>
            </div>
            <!-- Right Tackle -->
            <div class="col-2">
              <div class="btn-group-vertical mt-2 position-relative">
              {% for player in team.depth_chart.RTs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Right Tackle</span>
              </div>
            </div>
            <!-- Tight End -->
            <div class="col-2">
              <div class="btn-group-vertical mt-4 position-relative">
              {% for player in team.depth_chart.TEs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Tight End</span>
              </div>
            </div>
          </div>
          <div class="row mt-4 justify-content-center">
            <!-- Wide Receiver 1 -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.WR1s.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">X Receiver</span>
              </div>
            </div>
            <!-- Fullback -->
            <div class="col-2">
              {% if team.depth_chart.FBs %}
              <div class="btn-group-vertical mt-2 position-relative">
              {% for player in team.depth_chart.FBs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Fullback</span>
              </div>
              {% endif %}
            </div>
            <!-- Quarterback -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.QBs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Quarterback</span>
              </div>
            </div>
            <!-- Runningback -->
            <div class="col-2">
              <div class="btn-group-vertical mt-2 position-relative">
              {% for player in team.depth_chart.RBs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Runningback</span>
              </div>
            </div>
            <!-- Wide Receiver 3 -->
            <div class="col-2">
              <div class="btn-group-vertical mt-4 position-relative">
              {% for player in team.depth_chart.WR3s.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Y Receiver</span>
              </div>
            </div>
            <!-- Wide Receiver 2 -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.WR2s.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Z Receiver</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Special Teams -->
    <div class="row mt-4">
      <div class="card bg-dark">
        <div class="card-title text-center">Special Teams</div>
        <div class="card-body">
          <div class="row justify-content-center">
            <!-- Placekicker -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.PKs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Placekicker</span>
              </div>
            </div>
            <!-- Punter -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.Ps.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Punter</span>
              </div>
            </div>
            <!-- Holder -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.Hs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Holder</span>
              </div>
            </div>
            <!-- Long Snapper -->
            <div class="col-2">
              {% if team.depth_chart.LSs %}
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.LSs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Long Snapper</span>
              </div>
              {% endif %}
            </div>
            <!-- Kick Returner -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.KRs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Kick Returner</span>
              </div>
            </div>
            <!-- Punt Returner -->
            <div class="col-2">
              <div class="btn-group-vertical position-relative">
              {% for player in team.depth_chart.PRs.split(" ") %}
              {% set p = Player.query.get(player|int) %}
              {% if loop.index == 1 %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if p.status != 'Active' %}
                    {% if p.status == 'D' or p.status == 'Q' %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</span></div>
                  {% endif %}
                </button>
              {% else %}
                {% if p.status != 'Active' %}
                  {% if p.status == 'D' or p.status == 'Q' %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-warning"><span>{{ p.status }}</span></div></button>
                  {% else %}
                  <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }} <div class="badge rounded-pill p-1 bg-danger"><span>{{ p.status }}</span></div></button>
                  {% endif %}
                {% else %}
                <button data-id="{{ p.ID }}" class=" player-btn btn btn-block btn-dark border-secondary"><span class="text-muted"><small>{{ p.number }} </small></span> {{ p.shortname }}</button>
                {% endif %}
              {% endif %}
              {% endfor %}
              <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">Punt Returner</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Practice Squad -->
    <div class="row mt-4">
      <div class="card bg-dark">
        <div class="card-title text-center">Practice Squad</div>
        <div class="card-body">
          <div class="row justify-content-center">
            {% for player in players %}
            {% if player.practice_squad %}
            <div class="col-1" style="width:12.5%">
              <div class="btn-group-vertical position-relative">
                <button data-id="{{ player.ID }}" class=" player-btn btn btn-block btn-dark border-secondary m-1 ">
                  <div class="row"><img src="{{ url_for('static', filename='headshots/' + player.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'"></div>
                  {% if player.number == 0 %}
                    {% set number = '-' %}
                  {% else %}
                    {% set number=player.number %}
                  {% endif %}
                  {% if player.status != 'Active' %}
                    {% if player.status == 'D' or player.status == 'Q' %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small><small>{{ number }} </small></small></span><small> {{ player.shortname }} </small><div class="badge rounded-pill p-1 bg-warning"><span><small>{{ player.status }}</small></span></div></div>
                    {% else %}
                    <div class="row"><span class="text-center"><span class="text-muted"><small><small>{{ number }} </small></small></span><small> {{ player.shortname }} </small><div class="badge rounded-pill p-1 bg-danger"><span><small>{{ player.status }}</small></span></div></div>
                    {% endif %}
                  {% else %}
                  <div class="row"><span class="text-center"><span class="text-muted"><small><small>{{ number }} </small></small></span><small> {{ player.shortname }}</small></span></div>
                  {% endif %}
                </button>
                <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill text-dark bg-light">{{ player.position }}</span>
              </div>
            </div>
          {% endif %}
          {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Injury Page Content -->
  <div id="injuryPage" class="container text-white visually-hidden">
    <div class="row">
      <!-- MAIN CONTENT -->
      <div class="col-8">
        <!-- Injury News -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Injury News</div>
            <div class="card-body">
              <div class="row text-white">
                <div class="col">
                  {% for player in injured %}
                  <div class="row">
                    <div class="card mb-3 bg-dark">
                      <div class="row g-0">
                        <div class="col-4 align-self-center position-relative">
                          <img data-id="{{ player.ID }}" class="img-fluid player-btn" src="{{ url_for('static', filename='headshots/' + player.ID|string + '.png') }}" onerror="this.src='{{ default_headshot_path }}'">
                          <span class="position-absolute top-100 start-50 translate-middle badge rounded-pill text-dark bg-light">{{ player.name }} <small class="text-muted">{{ player.position }}</small></span>
                        </div>
                        <div class="col-8">
                          <div class="card-body">
                            {% if player.status == 'Q' or player.status == 'D' %}
                              <div class="row mt-2">
                                <div class="col text-start">Status: <div class="badge rounded-pill p-1 bg-warning"><span> {{ player.designation }}</span></div> </div>
                              </div>
                              {% else %}
                              <div class="row mt-2">
                                <div class="col text-start">Status: <div class="badge rounded-pill p-1 bg-danger"><span> {{ player.designation }}</span></div></div>
                              </div>
                            {% endif %}
                            <div class="row">
                              <div class="col text-start">Injury: <small class="text-muted">{{ player.injury }}</small></div>
                            </div>
                            <div class="row">
                              <div class="col text-start">Expected Return: <small class="text-muted">{{ player.ret }}</small></div>
                            </div>
                            <p class="card-text mt-2">{{ player.news }}</p>
                            <p class="card-text"><button class="btn btn-small btn-secondary" data-bs-toggle="collapse" data-bs-target="#collapse{{player.ID}}" aria-expanded="false" aria-controls="collapse{{player.ID}}">Analysis</button></p>
                          </div>
                        </div>
                        <div class="col">
                          <div class="collapse" id="collapse{{player.ID}}">
                            <div class="card card-body border-light bg-dark">
                              {{ player.analysis }}
                            </div>
                          </div>
                          <p class="card-text text-center"><small class="text-muted">{{ player.get_injury_date().strftime('%B %d, %Y') }}</small></p>
                        </div>
                      </div>
                    </div>
                  </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- RIGHT COLUMN -->
      <div class="col-4">
        <!-- Injury Report -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Injury Report</div>
            <div class="card-body">
              <table class="player-table table table-sm table-dark table-hover">
                <thead>
                  <tr>
                    <th>Pos</th>
                    <th>Name</th>
                    <th>Injury</th>
                  </tr>
                </thead>
                <tbody>
                  {% for player in players %}
                    {% if not player.practice_squad %}
                    <tr data-id="{{ player.ID }}">
                        {% if player.designation == 'Questionable' or player.designation == 'Doubtful' %}
                        <td>{{ player.position }}</td>
                        <td>{{ player.name  }} <div class="badge rounded-pill p-1 bg-warning"><span class="visually-hidden">N</span></div></td>
                        <td>{{ player.injury}} </td>
                        {% elif player.designation == 'Out' %}
                        <td>{{ player.position }}</td>
                        <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                        <td>{{ player.injury}} </td>
                        {% endif %}
                    </tr>
                    {% endif %}
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Injured Reserve -->
        <div class="row mt-2">
          <div class="card bg-dark">
            <div class="card-title text-center">Injured Reserve</div>
            <div class="card-body">
              <table class="player-table table table-sm table-dark table-hover">
                <thead>
                  <tr>
                    <th>Pos</th>
                    <th>Name</th>
                    <th>Injury</th>
                  </tr>
                </thead>
                <tbody>
                  {% for player in players %}
                    <tr data-id="{{ player.ID }}">
                        {% if player.designation == 'Injured Reserve' %}
                        <td>{{ player.position }}</td>
                        <td>{{ player.name }} <div class="badge rounded-pill p-1 bg-danger"><span class="visually-hidden">N</span></div></td>
                        <td>{{ player.injury}}</td>
                        {% endif %}
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- style="background: #{{ team.primary }}" -->
<script>

    // Set default number of entries to display to 'ALL"
    //$(document).ready(function(){
    //  $('#roster').DataTable({
    //    "lengthMenu": [[-1, 10, 25, 50], ["All", 10, 25, 50]]
    //  });
    //});

    // Disable filtered position button
    $(document).ready(function(){
      $("#{{ position }}").prop("disabled",true);
    });

  //$("#QB").click(function(){
  //  var table = document.getElementById("roster");
  //  for (var i = 0, row; row = table.rows[i]; i++) {
  //      if (row.cells[2].innerHTML != "QB") {
  //        row.setAttribute("style", "display:none;");
  //      } else {
  //        row.setAttribute("style", "visibility: visible;");
  //      }
  //   }
  //});

  $(function() {
          $('#statsSelection').on('click', function(e) {
            e.preventDefault()
            hideContainers();
            document.getElementById("mainContainer").classList.remove("visually-hidden");
            document.getElementById("teamNav").classList.remove("visually-hidden");
            document.getElementById("statsPage").classList.remove("visually-hidden");
            document.getElementById("playerCardContainer").classList.remove("visually-hidden");
          });
        });

  $(function() {
          $('#scheduleSelection').on('click', function(e) {
            e.preventDefault()
            hideContainers();
            document.getElementById("mainContainer").classList.remove("visually-hidden");
            document.getElementById("teamNav").classList.remove("visually-hidden");
            document.getElementById("schedulePage").classList.remove("visually-hidden");
            document.getElementById("playerCardContainer").classList.remove("visually-hidden");
          });
        });

  $(function() {
          $('#rosterSelection').on('click', function(e) {
            e.preventDefault()
            hideContainers();
            document.getElementById("mainContainer").classList.remove("visually-hidden");
            document.getElementById("teamNav").classList.remove("visually-hidden");
            document.getElementById("rosterPage").classList.remove("visually-hidden");
            document.getElementById("playerCardContainer").classList.remove("visually-hidden");
          });
        });

  $(function() {
          $('#depthChartSelection').on('click', function(e) {
            e.preventDefault()
            hideContainers();
            document.getElementById("mainContainer").classList.remove("visually-hidden");
            document.getElementById("teamNav").classList.remove("visually-hidden");
            document.getElementById("depthChartPage").classList.remove("visually-hidden");
            document.getElementById("playerCardContainer").classList.remove("visually-hidden");
          });
        });

  $(function() {
          $('#injurySelection').on('click', function(e) {
            e.preventDefault()
            hideContainers();
            document.getElementById("mainContainer").classList.remove("visually-hidden");
            document.getElementById("teamNav").classList.remove("visually-hidden");
            document.getElementById("injuryPage").classList.remove("visually-hidden");
            document.getElementById("playerCardContainer").classList.remove("visually-hidden");
          });
        });

  function hideContainers() {
        var containers = document.getElementsByClassName('container');
        for (let i = 0; i < containers.length; i++) {
        let container = containers[i];
        container.classList.add("visually-hidden");
        }
   };

 </script>
{% endblock %}
